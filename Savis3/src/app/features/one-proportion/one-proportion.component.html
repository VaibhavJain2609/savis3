<app-navbar></app-navbar>
<div class="oneProportion">
  <div class="left-container">
    <div class="controls">
      <div class="top">
        <label for="probabilitySlider"
          >{{ "oph.probability" | translate }} {{ probabilityOfHeads }}</label
        >
        <br />
        <input
          type="range"
          id="probabilitySlider"
          class="slider"
          min="0"
          max="1"
          step="0.01"
          [(ngModel)]="probabilityOfHeads"
        />
        <br />

        <label for="tossesInput">{{ "oph.tosses" | translate }}</label>
        <input
          type="number"
          id="tossesInput"
          min="1"
          [(ngModel)]="numberOfTosses"
          (ngModelChange)="generateLabels()"
          max="10000"
        />

        <br />
        <button (click)="reset()">{{ "oph.reset" | translate }}</button>
        <div class="green-line"></div>
      </div>

      <br />
      <div class="mid">
        <label for="sampleSize">{{ "oph.add_samples" | translate }}</label>
        <input type="number" min="1" id="sampleSize" [(ngModel)]="sampleSize" />

        <br />

        <button (click)="drawSamples()">
          {{ "oph.draw_samples" | translate }}
        </button>
        <div class="green-line"></div>
      </div>

      <div class="bottom">
        <div class="stats">
          <p>{{ "oph.num_samples" | translate }} {{ totalSamples }}</p>
          <p>{{ "oph.mean" | translate }} {{ meanHeads }}</p>
          <p>{{ "oph.std_dev" | translate }} {{ standardDeviation }}</p>
        </div>
      </div>

      <div class="interval-selection">
        <h3>
          {{ "oph.selected_interval" | translate }} {{ numberOfTosses }}
          {{ "oph.selected_interval2" | translate }}
        </h3>
        <label for="minHeads">{{ "oph.min" | translate }} {{ minHeads }}</label>
        <input
          type="range"
          id="minHeads"
          min="0"
          [max]="numberOfTosses"
          step="1"
          [(ngModel)]="minHeads"
          (ngModelChange)="updateSelected()"
        />

        <br />

        <label for="maxHeads">{{ "oph.max" | translate }} {{ maxHeads }}</label>
        <input
          type="range"
          id="maxHeads"
          min="0"
          [max]="numberOfTosses"
          step="1"
          [(ngModel)]="maxHeads"
          (ngModelChange)="updateSelected()"
        />

        <br />
        <label for="interval"
          >{{ "oph.samples_interval" | translate }} {{ interval }}</label
        >
        <br />
        <label for="proportions"
          >{{ "oph.proportion" | translate }} {{ proportion }}</label
        >
      </div>
    </div>
  </div>

  <div class="right-container">
    <h1>{{ "oph.title" | translate }}</h1>
    <div class="chart-container">
      <canvas
        baseChart
        [datasets]="chartData"
        [labels]="chartLabels"
        [options]="chartOptions"
        [chartType]="'bar'"
      >
      </canvas>
    </div>
  </div>
</div>
<app-footer></app-footer>
